<html>
  <head>
    <title>City Scroller :3</title>
    <script src="http://cloud.github.com/downloads/processing-js/processing-js/processing-1.4.1.min.js"></script>
    <script type="text/processing" data-processing-target="mycanvas">
        //Your code goes here 
      //   var moreBuildings = false;
        // Declare and contruct two objects (h1, h2) from the class HorizontalLine 
        HorizontalLine slowLine = new HorizontalLine(20, 2.0); 
      Skyline skyline = new Skyline();
    //Skyline2 skyline2 = new Skyline2();
    // Skyline3 skyline3 = new Skyline3();
     Naruto Naruto = new Naruto();
   //  coinz coin = new coinz();
   sunAndMoon sunAndMoon = new sunAndMoon(0,100);
   var NarutoY = 400;
   var buildingPlace = 1000;
  var needMoreBuildings = true;
  var globalMeme = 0;
  var sizeArray = 0;
  var bool = false;
  var nevillesBoolean = true;
     var buildingMove = true;
     var runOnce = true;
       // Skyline skylinetest = new Skyline();
       // Buildings building = new Buildings();
        HorizontalLine fastLine = new HorizontalLine(50, 2.5); 
     //   var addedBuildingWidths = 0;
       // while (addedBuildingWidths < 1000){
         // buildingList.add(new Buildings());        
           
          
                                                                              
    //    }
        //since these are variables we don't want to ever change in the code, we capitalize them 
        var WINDOW_WIDTH = 1000;
        var WINDOW_HEIGHT = 600; 
        var GREY = 204;
     //   ArrayList<Buildings> buildingList;
      //  ArrayList<coinz> coinList;
        //This function only runs once at the start of the program
        void setup() {
         var isRunning = true;
          size(WINDOW_WIDTH, WINDOW_HEIGHT); //sets the size of the window
      //document.getElementById("NarutoOpening.mp3").play();
      var song = new Audio('NarutoOpening.mp3');
          song.play();
          frameRate(30); //how many times the draw function is called per second
       //   skyline.fillBuildings();
        
//while (totalWidth < 1000){
         // var bWidth, bHeight;                                                                                                       
           // bWidth = random(100,300);
            //bHeight = random(150,500);           
            //buildingList.add(new Buildings(bWidth, bHeight));
            //totalWidth = totalWidth + bW;
          //}

         // Buildings myBuilding = new Buildings(100,200,450);
        // println(myBuilding.getHeight());
         //  println.(skyline.getBuildingHeight());
        
        }
        
        var colorChange = 0;
        var isNight = false;
        //called repeatedly
        void draw() { 
    // println(frameCount);
         background(colorChange,4,69); //needed in the draw function to "clear" the screen between updates
         if(isNight == false){
         if(colorChange > -1){
         colorChange = colorChange + 2.34;
         if(colorChange > 242){
          isNight = true;
         }
       }
     }
     if(isNight == true){
       if(colorChange < 266){
        colorChange = colorChange -2.34;
        if(colorChange < 2){
          isNight = false;
        }
       }
     }
//background(255,255,255);
        sunAndMoon.drawObject();
        sunAndMoon.updateObject();
          //slowLine.moveLine(); 
       
        
          
      //    skyline.fillBuildings();

       //   skyline.oneBuilding();
            
        
          skyline.fillBuildings();
         //  skyline.reversefillBuildings();
           skyline.drawSkyline();
           if(frameCount > 110 && runOnce == true){
            skyline.reversefillBuildings(); 
            //runOnce = false;
          }
        //  coin.drawCoins();
          //coin.updateCoins();

        Naruto.update();
  
       Naruto.drawNaruto();
    


       
        } 
        
         
        //This is the definition of your object
        //a class consists of: 
        //attributes which describes the object 
        //a constructor which sets the default values for the attributes 
        //and functions which manipulate/give information about the attributes
        class HorizontalLine { 
        
      //attributes        
          var yPos, speed; //float means they can be decimals
        
          //constructor
          //allows us to easily create different 
          HorizontalLine (float y, float s) {  
        
            yPos = y; 
        
            speed = s; 
        
          } 
          
          void moveLine() {
            update();
            drawLine();
          }
          
          void update() { 
        
            yPos += speed; 
        
          //height is a pre-defined variable that is the pixel value for the bottom of the screen
            if (yPos > height) { 
              yPos = 0; 
            } 
            
        
          }
          
          void drawLine() {
            //width is a pre-defined variable that is the pixel value for the right of the screen
            line(0, yPos, width, yPos); 
          } 
        
        }

        class Buildings{
          var buildingLocationX, buildingLocationY, buildingWidth, buildingHeight;


          Buildings(var bW, var bH, var lX){
          buildingLocationX = lX;
          //  buildingLocationX =  1000;
            buildingLocationY = 300;
            buildingWidth = bW;
            buildingHeight = bH;
        //    buildingWidth = random(100,300);
          //  buildingHeight = random(150,500);
          //buildingHeight = 500;
           
          }
          void drawBuilding(){
         //   rect(buildingLocationX, buildingLocationY, buildingWidth, buildingHeight);
         buildingLocationY = 600 - buildingHeight;
            rect(buildingLocationX, buildingLocationY, buildingWidth, buildingHeight);
            fill(200,200,255);
            rect(buildingLocationX + buildingWidth/2 - 12, buildingLocationY + 20, 30, 30);
            rect(buildingLocationX + buildingWidth/2 - 12, buildingLocationY + 80, 30, 30);
            rect(buildingLocationX + buildingWidth/2 - 12, buildingLocationY + 140, 30, 30);
            rect(buildingLocationX + buildingWidth/2 - 12, buildingLocationY + 200, 30, 30);
            rect(buildingLocationX + buildingWidth/2 - 12, buildingLocationY + 260, 30, 30);



            stroke(GREY);
            fill(0,0,0);
            getHeight();

          }
          void updateBuilding(){
            buildingPlace = buildingLocationX;
            if(buildingMove == true){
            buildingLocationX = buildingLocationX - 10;
          }
          if(keyPressed && keyCode == LEFT){
            buildingLocationX = buildingLocationX - 3;
          }
          if(keyPressed && keyCode == RIGHT){
            buildingLocationX = buildingLocationX + 3;
          }
            buildingPlace -= 10
            if(buildingPlace < 0){
              buildingMove = false;
              bool = true;
            }
             //getLocation();
             buildingPlace = buildingPlace - 10;
             
            if(buildingLocationX < 0 && buildingLocationX > - 50){
             // println("a;oijawfe;ojio");
              
            //  oneBuilding();
          //    needMoreBuildings = true;


            }
            
         
           if(buildingLocationX < 0){
          nevillesBoolean = false;
         }
            if(  buildingLocationX > 500 && buildingLocationX < 560){
           // println(getHeight());
           //FUNCTION FOR PRINTING Y VALUE HERE!!!!! ;DDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDDD
           if(nevillesBoolean == true){
           getHeight();
           var narutoHeight = 600- buildingHeight;
           NarutoY = narutoHeight - 60;
         //  nevillesBoolean = false;

         
}

            }
            else if (buildingLocationX < 400){

            }
            
          }
          
          void updateBuilding2(){
            buildingLocationX = buildingLocationX - 5;
          }
          void updateBuilding3(){
            buildingLocationX = buildingLocationX - 3;
          }

          //Getter
          int getHeight(){
            return buildingHeight;
          }
          int getLocation(){
            return buildingLocationX;
          }
        }
        class Skyline{
         ArrayList<Buildings> buildingList;
         ArrayList<coinz> coinList;
         var totalBuildingWidth = 0;
         var extraBuilding = 0;
         var totalLocationX = 1000;
         var lokationX = 0;
         var moreBuildings = true;
         var positionX = 0;
         var totalCoinWidth, locationX;
         var coinzzX = 0;
         var frameThing = 0;
         var loqationX = 0;
         var totalLoqationX = 1000;

         var totalBuildingWidth1 = 0;
         var totalLoqationX1 = 0;
         var loqationX1 = 0;
         var firstRun = true;

        // var moarBuildings = true;
          Skyline(){
          //HERE
          buildingList = new ArrayList<Buildings>(); 
          coinList = new ArrayList<coinz>();
         // fillBuildings();
          //fillBuildings();

          //reversefillBuildings();
      //    fillBuildings();
        //  reversefillBuildings();
   //      while(moreBuildings = true){ 
          //  fillSkyline();

   //     }

          //while(totalBuildingWidth < 1000){
          //createBuildings();

        //}

          }
void moveSkyline(){
   if(bool == true){
//println("aw;iojfwe;ojfewoiewafj;");
//    fillBuildings();
   bool = false;
  }
  drawSkyline();
 
}  
         void drawSkyline(){
          //HERE
       for(var i = 0; i < buildingList.size(); i++) {
           Buildings currentBuilding = buildingList.get(i); 
      //     fill(255,0,0);
            currentBuilding.drawBuilding();
            currentBuilding.updateBuilding();
            currentBuilding.getLocation();
         //  println(buildingLocationX);
            
            
         // println(currentBuilding.getHeight());
          //  currentBuilding.getBuildingHeight();
            
          } 

         }  
         void drawCoinz(){
          for(var i = 0; i < coinList.size(); i++){
            coinz currentCoin = coinList.get(i);
            currentCoin.drawCoins();
            currentCoin.updateCoins();
          }
         }
         void oneBuilding(){
           var randomBuildingWidth = random(100,170);
         var randomBuildingHeight = random(70, 200);
         totalBuildingWidth += randomBuildingWidth;
      //    loqationX = loqationX + randomBuildingWidth;
          totalLoqationX = totalLoqationX + loqationX;
          buildingList.add(new Buildings(randomBuildingWidth, randomBuildingHeight, totalLoqationX));
          loqationX = 0;
          loqationX = loqationX + randomBuildingWidth;
          
         }
         void fillBuildings(){
        //  var randomBuildingWidth = random(100,170);
       //  var randomBuildingHeight = random(70, 200);
       //totalBuildingWidth = globalMeme;
//if(needMoreBuildings == true){
         while(totalBuildingWidth < 1000){
          var randomBuildingWidth = random(100,170);
         var randomBuildingHeight = random(70, 200);
         totalBuildingWidth += randomBuildingWidth;
      //   loqationX = loqationX + randomBuildingWidth;
          totalLoqationX = totalLoqationX + loqationX;
          buildingList.add(new Buildings(randomBuildingWidth, randomBuildingHeight, totalLoqationX));
          loqationX = 0;
          loqationX = loqationX + randomBuildingWidth - 5;
          
         }
         totalBuildingWidth = 0;
        
      //   needMoreBuildings = false;
     // totalBuildingWidth = 0;
//}
         }
        void reversefillBuildings(){// USE ABSOLUTE VALUE THING
        //  var randomBuildingWidth = random(100,170);
       //  var randomBuildingHeight = random(70, 200);
       //totalBuildingWidth = globalMeme;
//if(needMoreBuildings == true){
  //println("ITS WORKIN");
         while(totalBuildingWidth1 < 1000){
          var randomBuildingWidth = random(100,170);
         var randomBuildingHeight = random(70, 200);
           loqationX1 = 0;
          loqationX1 = loqationX1 - randomBuildingWidth;
         totalBuildingWidth1 += randomBuildingWidth;
      //   loqationX = loqationX + randomBuildingWidth;
          totalLoqationX1 = totalLoqationX1 + loqationX1;
           if(firstRun == true){
          randomBuildingWidth = 100;
          totalLoqationX1 = -100;
          firstRun = false;
         }
          buildingList.add(new Buildings(randomBuildingWidth, randomBuildingHeight, totalLoqationX1));
        
         // randomBuildingWidth = abs(randomBuildingWidth);
          
          
         }
         totalBuildingWidth1 = 0;
        }
        void createBuildings(){

       // while(totalBuildingWwidth < 1000){
        // var randomBuildingWidth = random(100,170);
        // var randomBuildingHeight = random(70, 200);
         var coinzzY = random(200,400);
         totalBuildingWidth = totalBuildingWidth + randomBuildingWidth;
         totalLocationX = totalLocationX + lokationX;
         coinzzX = coinzzX + lokationX
         lokationX = 0;
         if (frameThing == 29){
         coinList.add(new coinz(1000, coinzzY));
       }
          buildingList.add(new Buildings(randomBuildingWidth, randomBuildingHeight, totalLocationX)); 
          
          lokationX = lokationX + randomBuildingWidth - 10;
          positionX = positionX + randomBuildingWidth;
         frameThing = frameThing + 1;
          if (frameThing == 30){
            frameThing = 0;
          }

     //    }
     //extraBuilding = extraBuilding + randomBuildingWidth;
}




      void fillSkyline(){
        while(moreBuildings == true){
          createBuildings();
          
        }
        
      } 

        }
        class Skyline2{
         ArrayList<Buildings> buildingList2;
         var totalBuildingWidth2 = 0;
         var extraBuilding2 = 0;
         var totalLocationX2 = 1000;
         var lokationX2 = 0;
         var moreBuildings2 = true;
         var positionX2 = 0;
        // var moarBuildings = true;
          Skyline2(){
          //HERE
          buildingList2 = new ArrayList<Buildings>(); 
   //      while(moreBuildings = true){ 
          //  fillSkyline();

   //     }

          //while(totalBuildingWidth < 1000){
          //createBuildings();

        //}

          }
             
         void drawSkyline2(){
          //HERE
       for(var i = 0; i < buildingList2.size(); i++) {
           Buildings currentBuilding2 = buildingList2.get(i); 
           fill(36,36,38);
            currentBuilding2.drawBuilding();
            currentBuilding2.updateBuilding2();
            
          }             
         }  
        void createBuildings2(){
       // while(totalBuildingWwidth < 1000){
         var randomBuildingWidth2 = random(50,150);
         var randomBuildingHeight2 = random(150, 400);
         totalBuildingWidth2 = totalBuildingWidth2 + randomBuildingWidth2;
         totalLocationX2 = totalLocationX2 + lokationX2;
         lokationX2 = 0;
          buildingList2.add(new Buildings(randomBuildingWidth2, randomBuildingHeight2, totalLocationX2)); 
          lokationX2 = lokationX2 + randomBuildingWidth2 - 10;
          positionX2 = positionX2 + randomBuildingWidth2;
     //    }
     //extraBuilding = extraBuilding + randomBuildingWidth;
}
}
class Skyline3{
         ArrayList<Buildings> buildingList3;
         var totalBuildingWidth3 = 0;
         var extraBuilding3 = 0;
         var totalLocationX3 = 1000;
         var lokationX3 = 0;
         var moreBuildings3 = true;
         var positionX3 = 0;
        // var moarBuildings = true;
          Skyline3(){
          //HERE
          buildingList3 = new ArrayList<Buildings>(); 
   //      while(moreBuildings = true){ 
          //  fillSkyline();

   //     }

          //while(totalBuildingWidth < 1000){
          //createBuildings();

        //}

          }
             
         void drawSkyline3(){
          //HERE
       for(var i = 0; i < buildingList3.size(); i++) {
           Buildings currentBuilding3 = buildingList3.get(i); 
           fill(147, 146, 161);
            currentBuilding3.drawBuilding();
            currentBuilding3.updateBuilding3();
            
          }             
         }  
        void createBuildings3(){
       // while(totalBuildingWwidth < 1000){
         var randomBuildingWidth3 = random(150,150);
         var randomBuildingHeight3 = random(150, 550);
         totalBuildingWidth3 = totalBuildingWidth3 + randomBuildingWidth3;
         totalLocationX3 = totalLocationX3 + lokationX3;
         lokationX3 = 0;
          buildingList3.add(new Buildings(randomBuildingWidth3, randomBuildingHeight3, totalLocationX3)); 
          lokationX3 = lokationX3 + randomBuildingWidth3 - 10;
          positionX3 = positionX3 + randomBuildingWidth3;
     //    }
     //extraBuilding = extraBuilding + randomBuildingWidth;
}
}
var NarutoLocationY;
NarutoLocationY = NarutoY;
/* @pjs preload="NarutoRun1.png","NarutoRun2.png","NarutoRun3.png","NarutoRun4.png","NarutoRun5.png","NarutoRun6.png", "NarutoSmoke.png", "scroll.png", "NarutoJump.png", "NarutoDash.png"; */
 class Naruto
        {
          //attributes
          var NarutoX;
       //   var NarutoY;
          PImage img;

          var running = true;
          var narutoExistence = false;
          var imege = -1;
          var kek = true;
         // var NarutoJumpY;
          var runOnce = true;
          var finished = false;
  //        var moreCoins = true;
//          var coinNumber = 0;

      
          //constructor
          Naruto(){
            NarutoX = 500;
      //      NarutoJumpY = NarutoY;
          //  NarutoY = 400;
           //  img = loadImage("NarutoRun1.png");
         // img = loadImage("NarutoRun1.png", "NarutoRun2.png","NarutoRun3.png","NarutoRun4.png","NarutoRun5.png","NarutoRun6.png");
          
            coins = 0;
            coinsX = 1000;
            coinsY = random(200,400);
          }

          void updateAndDrawNaruto(){
            update();
            drawNaruto();
          }

          void update(){
            if (keyPressed && keyCode == UP) {
            //  isRunning =false; 
             imege = -3;
             // println("same");
              
            }
            else if(keyPressed && keyCode == LEFT){
              NarutoX -= 3;
              
            }
            else if(keyPressed && keyCode == RIGHT){
              NarutoX += 3;
              
            }

            else {
             fall();
            }
            
          }

 void drawNaruto(){ //normal running form
           // image(img, NarutoX, NarutoY,64,64);
        //   var runImageArray["NarutoRun1.png", "NarutoRun2.png","NarutoRun3.png","NarutoRun4.png","NarutoRun5.png","NarutoRun6.png", "NarutoJump.png"];
       //    while(running == true){
       //  for (var i = 0; i < 5; i++) {
       //    NarutoJumpY = NarutoY - 5;
                  //img = loadImage(runImageArray[i];
                //  img = loadImage("NarutoRun1.png");
               if(imege == 0){
                  img = loadImage("NarutoRun1.png");
                  image(img, NarutoX, NarutoY, 64, 64);
                  NarutoJumpY = NarutoY;
                }
                else if(imege == 1){
                  img = loadImage("NarutoRun2.png");
                  image(img, NarutoX, NarutoY, 64, 64);
                  NarutoJumpY = NarutoY;
                }
                else if(imege == 2){
                  img = loadImage("NarutoRun3.png");
                  image(img, NarutoX, NarutoY, 64, 64);
                  NarutoJumpY = NarutoY;
                }
                else if(imege == 3){
                  img = loadImage("NarutoRun4.png");
                  image(img, NarutoX, NarutoY, 64, 64);
                  NarutoJumpY = NarutoY;
                }
                else if(imege == 4){
                  img = loadImage("NarutoRun5.png");
                  image(img, NarutoX, NarutoY, 64, 64);
                  NarutoJumpY = NarutoY;
                }
                else if(imege == 5){
                  img = loadImage("NarutoRun6.png");
                  image(img, NarutoX, NarutoY, 64, 64);
                  NarutoJumpY = NarutoY;
                }
                 else if(imege == -2){
                //  println("KEKEKEKE");
                  img = loadImage("NarutoDash.png");
                  image(img, NarutoX, NarutoY, 64, 64);
                  NarutoJumpY = NarutoY;
                }
                 else if(imege == -3){
                //  println("WORKS");
                  img = loadImage("NarutoJump.png");
                  NarutoJumpY -= 10;
                  image(img, NarutoX, NarutoJumpY, 64, 64);

                 
                
                }
                 if(narutoExistence == false && imege == -1){
                  if(frameCount > 0 ){
                 noFill();
                 if(frameCount > 80 ){

                     img = loadImage("NarutoSmoke.png");
                    image(img, NarutoX, NarutoY, 50, 50);
                     if(frameCount > 90){
                      narutoExistence = true;
                      
                    }
                 }
                  }
                   
                  }
                if(narutoExistence == true){
                    imege = imege + 1;
                  }

          if(imege == 5){
            imege = 0;
          }
    //    }
   //   }
    }
              void jump(){
               
                 println("same");
               NarutoY -= 25;
            img = loadImage("NarutoSmoke.png");
           image(img, NarutoX, NarutoY, 64, 64);
            
}
          void fall(){
           if(NarutoY <  50){
              NarutoY += 25;
              img = loadImage("NarutoJump.png");
            image(img, NarutoX, NarutoY, 64, 64);
             
            }
           else { //at bottom of screen 
              //img = loadImage("Naruto.png");

             
            }
          }
}
         class coinz{
          var coinsX, coinsY, coins;
          coinz(var coinX, var coinY){
            coinsX = coinX;
            coinsY = coinY;

          }
           void drawCoins(){
            
            img = loadImage("scroll.png");
            image(img, coinsX, coinsY, 30,30);
            //coinNumber += 1;
            
          
          }
          void updateCoins(){
            coinsX -= 10;

          }
         }

         class sunAndMoon{
          var objectX, objectY;
          var movingUp = true;
          var objectWidth = 20;
          var objectHeight = 20;
          var objectColor = 140;
          var changeColor = true;
          sunAndMoon(var sX, var sY){
            objectX = sX;
            objectY = sY;

          }
          void drawObject(){
            if(changeColor == true){
             // objectColor = 140;
              objectColor = objectColor + 1.1;
              if(objectColor > 250){
                changeColor = false;
              }
            }
            else if(changeColor == false){
            //  objectColor = 255;
              objectColor = objectColor - 1.1;
              if(objectColor < 140){
                changeColor = true;
              }
            }
            fill(objectColor,140,140);
            ellipse(objectX,objectY,objectWidth,objectHeight); 
          }
          void updateObject(){
            objectX = objectX + 5;
          if(movingUp == true){
            if(objectY < 151 ){
              objectY = objectY -.5;
              objectWidth = objectWidth + 1;
              objectHeight = objectHeight + 1;
              if(objectY < 50){
                movingUp = false;
              }
          }
            
          }

            else if(movingUp == false){
            //  if(objectY > 0)
              objectY = objectY + .5;
            objectWidth = objectWidth -1;
            objectHeight = objectHeight -1;
            if(objectY > 149){
              movingUp = true;
            }

            }
            if(objectX == 1000){
              objectX = 0;
              movingUp = true;
            }
          } 
         } 
          
        </script> 
    </head>
    
    <body>
    <canvas id="mycanvas"></canvas>
  </body>
</html>
